<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Hello, World! • A-Frame</title>
    <meta name="description" content="Hello, World! • A-Frame">
    <script src="https://aframe.io/releases/latest/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.12/d3.min.js"></script>
  </head>
  <body>
    <a-assets>
      <a-mixin id="link" scale="1 0.5 1"></a-mixin>
      <a-mixin id="link-hovered" scale="2 2 1"></a-mixin>
      <a-mixin id="link-selected" scale="2 4 1"></a-mixin>
    </a-assets>
    <a-scene fog="type: exponential; color: #ffffff; far: 30; near: 0">

      <!-- <a-cube></a-cube> -->
      <a-entity camera look-controls wasd-controls></a-entity>
      <a-entity light="type: point; color: #EEE; intensity: 0.5" position="0 3 0"></a-entity>
      <a-light color="#da47da" position="0 0 0" type="ambient"></a-light>
      <a-sky color="#c8f8e0"></a-sky>

    </a-scene>
    <script>
      var data=[10, 10, 10, 10, 10, 10, 10, 10]
      var tip = -0.5;
      var radius = 4;
      var scene = d3.select("a-scene")
      scene.append("a-camera")
           .attr({
            position: function(){
              var x = 0;
              var y = tip;
              var z = 0;
              return x + " " + y + " " + z
            }
           })

      var cubes = scene.selectAll("a-entity.bar").data(data)
                  .enter()
                  .append("a-entity")
                  .classed("bar", true)
                  .attr({
                    mixin: "link",
                    material: "color: #7BC8A4",
                    geometry: "primitive: box; width: 1; height: 1; depth: 1",
                    position: function(d, i){
                      var theta = (i / data.length) * (2 * Math.PI);
                      var x = radius * Math.cos(theta); 
                      var y = 0;
                      var z = radius * Math.sin(theta);
                      return x + " " + y + " " + z
                    },
                    rotation: function(d, i){
                      var x = 0;
                      var y = -360 * i/data.length;
                      var z = -80*Math.atan(tip/radius);
                      return x + " " + y + " " + z
                    }
                  })
    // cubes.append("a-mouseenter")
    //      .attr({
    //         scale: "2 2 2"
    //      })
    // cubes.append("a-mouseleave")
    //      .attr({
    //         scale: "1 1 1"
    //      })


    </script>
  </body>
</html>



























<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>My World</title>
    <meta name="description" content="D3js in 3D - javascript">
    <script src="https://aframe.io/releases/latest/aframe.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.12/d3.min.js"></script>
  </head>
  <body>
<!--     <a-assets>
      <a-mixin id="link" scale="1 1 1"></a-mixin>
      <a-mixin id="link-hovered" scale="1 0.2 1"></a-mixin>
      <a-mixin id="link-selected" scale="2 4 1"></a-mixin>
    </a-assets> -->
    <a-assets>
      <a-mixin id="red" material="color: red"></a-mixin>
    </a-assets>
    <!-- <a-scene fog="type: linear; color: #ffffff; far: 30; near: 0"> -->
    <a-scene>
      <!-- <a-cube></a-cube> -->
      <a-entity camera look-controls wasd-controls></a-entity>
      <a-entity light="type: point; color: #EEE; intensity: 0.5" position="0 3 0"></a-entity>
      <a-light color="#da47da" position="0 0 0" type="ambient"></a-light>
      <!-- <a-sky color="#c8f8e0"></a-sky> -->
      <a-sky src="road.jpg"></a-sky>

    </a-scene>
    <script>
      var data=[10, 10, 10, 10, 10, 10, 10, 10, 10, 10]
      var tip = -0.5;
      var radius = 6;
      var scene = d3.select("a-scene")
      scene.append("a-camera")
           .attr({
            position: function(){
              var x = 0;
              var y = tip;
              var z = 0;
              return x + " " + y + " " + z
            }
           })

      var cubes = scene.selectAll("a-entity.bar").data(data)
                  .enter()
                  .append("a-entity")
                  .classed("bar", true)
                  .attr({
                    // mixin: "link",
                    material: "color: #7BC8A4",
                    geometry: "primitive: box; width: 2; height: 2; depth: 2",
                    position: function(d, i){
                      var theta = (i / data.length) * (2 * Math.PI);
                      var x = radius * Math.cos(theta); 
                      var y = 0;
                      var z = radius * Math.sin(theta);
                      return x + " " + y + " " + z
                    },
                    rotation: function(d, i){
                      var x = 0;
                      var y = -360 * i/data.length;
                      var z = -80*Math.atan(tip/radius);
                      return x + " " + y + " " + z
                    }
                  })
    cubes.append("a-mouseenter")
         .attr({
            // scale: "1 2 1",
            position: "0 2 0",
            visible: false
         })
    cubes.append("a-mouseleave")
         .attr({
            scale: "1 1 1"
            // position: "0 2 0"
            // visible: true
         })
      

      var images = scene.selectAll("a-image").data(data)
                  .enter()
                  .append("a-image")
                  .attr({
                    src: 'queen.jpeg',
                    position: function(d, i){
                      var theta = (i / data.length) * (2 * Math.PI);
                      var x = radius * Math.cos(theta); 
                      var y = 0;
                      var z = radius * Math.sin(theta);
                      return x + " " + y + " " + z
                    },
                    rotation: function(d, i){
                      var x = 100*Math.atan(tip/radius);
                      var y = -360 * i/data.length + 90;
                      var z = 0;
                      return x + " " + y + " " + z
                    }
                  })


    </script>
  </body>
</html>


























